{{ $context := .context  }}
{{ $taxo := .taxo  }}
{{ $title := .title  }}
{{ if isset $context.Site.Taxonomies ( lower $taxo ) }}
  {{ $taxonomy := index $context.Site.Taxonomies ( lower $taxo ) }}
  {{ if (gt (len $taxonomy) 0)}}
    <div class="taxonomy taxonomy-terms-cloud taxo-{{ lower $taxo }}">
      {{ with $title }}
        <h5 class="taxonomy-title">{{ . }}</h5>
      {{ end }}
      <ul class="taxonomy-terms">
        {{ range $taxonomy }}
          {{ $text := .Page.Title }}
          {{if gt (len $text) 23}}
            {{ $text = printf "%s%s" (substr $text 0 21) "..." }}
          {{ end }}
          <li><a class="taxonomy-term" href="{{ .Page.Permalink }}" data-taxonomy-term="{{ lower .Page.Title }}"><span class="taxonomy-label">{{ $text }}</span><span class="taxonomy-count">{{ .Count }}</span></a></li>
        {{ end }}
      </ul>
    </div>
  {{ end }}
{{ end }}
